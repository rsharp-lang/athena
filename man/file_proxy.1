.TH FILE_PROXY 1 2025-Jun "" "Generate a proxied download link for local files"
.SH NAME
file_proxy \- file_proxy(file)
.SH SYNOPSIS
\fIfile_proxy(file)\fR
.SH OPTIONS
.PP
\fBfile\fB \fR\- . A character string specifying the path to an existing local file. The file must exist and be accessible (will trigger error if not found).
.PP
.SH VALUE
.PP
A named list containing download metadata with two elements: \describe{ \item{href}{Character string containing the URL path for file download, formatted as `/get/file?key=<md5_hash>`} \item{filename}{Character string preserving the original filename with extension} }
.PP
.SH DETAILS
.PP
The function performs three key operations: \enumerate{ \item Generates MD5 hash based on file path and current timestamp \item Creates nested temporary directory using hash fragments (e.g., /temp/a1b2c/d4e5f) \item Copies original file to hashed location while preserving extension }
.PP
.SH EXAMPLES
.PP
\dontrun{ # Set temporary directory first options(proxy_tmp = "/var/www/tmp") # Generate proxy link for sample file file_proxy("/data/files/report.pdf") # Returns: list( #   href = "/get/file?key=5d41402abc4b2a76b9719d911017c592", #   filename = "report.pdf" # ) }
.PP
.SH FILES
.PP
SMRUCC/R#.declare_function.file_proxy at utils.R:line 96
.PP
.SH COPYRIGHT
Copyright © xieguigang, MIT Licensed 2025
